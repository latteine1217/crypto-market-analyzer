# Crypto Market Dashboard

**Version**: v2.2.0  
**Focus**: Performance Optimization + Robustness + Lightweight Visuals

ä»¥è³‡æ–™æ”¶é›†èˆ‡å¯è¦–åŒ–ç‚ºæ ¸å¿ƒçš„åŠ å¯†è²¨å¹£å¸‚å ´ç›£æ§å¹³å°ã€‚å¾å¤šäº¤æ˜“æ‰€å³æ™‚æ”¶é›† OHLCVã€Tradesã€OrderBook è³‡æ–™ï¼Œå­˜å…¥ TimescaleDBï¼Œé€é TypeScript Dashboard æä¾›é«˜æ•ˆã€ä½å»¶é²çš„æŠ€è¡“åˆ†æä»‹é¢ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### ğŸš€ æ•ˆèƒ½å„ªåŒ– (v2.2+)
- **é«˜æ•ˆæŒ‡æ¨™ç®—æ³•**: æŠ€è¡“æŒ‡æ¨™ï¼ˆRSI, Bollinger Bands ç­‰ï¼‰å…¨é¢æ”¹ç”¨ $O(N)$ æ»‘å‹•çª—å£æ¼”ç®—æ³•ï¼Œå¤§å¹…é™ä½ CPU æ¶ˆè€—ã€‚
- **API æ¸›è¼‰æŠ€è¡“**: é€é React Query æ™ºæ…§å¿«å– (staleTime: 30s) èˆ‡è¦–çª—èšç„¦åˆ·æ–°æ§åˆ¶ï¼Œæ¸›å°‘ 80% ä»¥ä¸Šç„¡è¬‚çš„ API è«‹æ±‚ã€‚
- **è¼•é‡åŒ–åœ–è¡¨**: å…¨é¢é·ç§»è‡³é«˜æ€§èƒ½ `lightweight-charts`ï¼Œç§»é™¤é‡å‹ä¾è³´ `recharts`ï¼Œæ¸›å°‘ Bundle Size ä¸¦æå‡æ¸²æŸ“æµæš¢åº¦ã€‚
- **æ¸²æŸ“å„ªåŒ–**: å¯¦æ–½ React.memo èˆ‡å–®æ¬¡å¾ªç’°è³‡æ–™è™•ç†ï¼Œç¢ºä¿å¤§æ•¸æ“šé‡ä¸‹æ“ä½œä¸å¡é “ã€‚

### ğŸ“Š è³‡æ–™æ”¶é›†èˆ‡ç®¡ç†
- **å¤šäº¤æ˜“æ‰€æ”¯æ´**: Binanceã€Bybitã€OKX (REST + WebSocket)ã€‚
- **å³æ™‚è³‡æ–™æµ**: WebSocket ä¸²æµ tradesã€orderbookã€klinesã€‚
- **æ­·å²è³‡æ–™å›è£œ**: è‡ªå‹•è£œé½Šç¼ºå¤±å€é–“ã€‚
- **éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶**: æ™ºæ…§å‹ Rate limit è™•ç†èˆ‡æ–·ç·šé‡é€£ã€‚

### ğŸ“ˆ Dashboard èˆ‡å¯è¦–åŒ–
- **TypeScript Dashboard**: Next.js + Tailwind CSS ç¾ä»£åŒ–ä»‹é¢ã€‚
- **äº’å‹•å¼åœ–è¡¨**: å…¨æ–° `Lightweight Charts` æ•´åˆï¼Œæ”¯æ´ Kç·šã€MACDã€è³‡é‡‘è²»ç‡åŠæŒå€‰é‡ã€‚
- **è¼•é‡æ·±åº¦åœ–**: è‡ªç ” SVG é«˜æ€§èƒ½è¨‚å–®ç°¿æ·±åº¦è¦–è¦ºåŒ–ã€‚
- **Loading é«”é©—**: å…¨é¢å¯¦æ–½ Skeleton Screen èˆ‡æµæš¢å‹•ç•«ï¼Œæ¶ˆé™¤ Layout Shiftã€‚
- **æŠ€è¡“åˆ†æ**: MAã€EMAã€RSIã€MACDã€Bollinger Bandsã€‚

### ğŸ“¡ ç›£æ§èˆ‡å¥å£¯æ€§
- **Error Boundary**: å…¨åŸŸéŒ¯èª¤æ•æ‰èˆ‡è‡ªå‹•å¾©åŸæ©Ÿåˆ¶ã€‚
- **å–®å…ƒæ¸¬è©¦**: æ ¸å¿ƒæŒ‡æ¨™ç®—æ³•èˆ‡ API Client æ¸¬è©¦è¦†è“‹ã€‚
- **Prometheus/Grafana**: 50+ æ”¶é›†å™¨æŒ‡æ¨™èˆ‡é å»ºç›£æ§é¢æ¿ã€‚

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Data Sources                           â”‚
â”‚        Binance API    Bybit API    OKX API                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                             â”‚
        REST API                      WebSocket
             â”‚                             â”‚
             â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Python         â”‚          â”‚ TypeScript     â”‚
    â”‚ REST Collector â”‚          â”‚ WS Collector   â”‚
    â”‚ (CCXT)         â”‚          â”‚ (Native)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                           â”‚
             â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
             â””â”€â”€â”€â–¶â”‚ Redis Queue   â”‚â—€â”€â”€â”€â”€â”€â”˜
                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ TimescaleDB   â”‚
                  â”‚ (Time-series) â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼           â–¼                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚API Serverâ”‚ â”‚ Grafana  â”‚ â”‚ Prometheus â”‚
         â”‚(Express) â”‚ â”‚          â”‚ â”‚            â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚      :3000         :9090
               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚Dashboard â”‚
         â”‚(Next.js) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         :3001
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
crypto-market-dashboard/
â”œâ”€â”€ collector-py/              # Python REST API æ”¶é›†å™¨ (CCXT)
â”œâ”€â”€ data-collector/            # TypeScript WebSocket æ”¶é›†å™¨
â”œâ”€â”€ api-server/                # TypeScript API Server (Express)
â”œâ”€â”€ dashboard-ts/              # Next.js Dashboard (TypeScript) âœ¨ Optimized
â”œâ”€â”€ database/                  # Database schemas & migrations
â”œâ”€â”€ monitoring/                # Prometheus + Grafana + Alertmanager
â”œâ”€â”€ configs/                   # æ”¶é›†å™¨èˆ‡ç³»çµ±é…ç½®
â”œâ”€â”€ scripts/                   # é‹ç¶­èˆ‡æ¸¬è©¦è…³æœ¬
â””â”€â”€ docs/                      # ğŸ“š å°ˆæ¡ˆæ–‡æª” (SESSION_LOG.md, TECH_DEBT.md)
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚
- Docker & Docker Compose
- å¯ç”¨ç«¯å£: 5432, 6379, 8000, 8001, 8080, 3001, 3000, 9090

### 1. å•Ÿå‹•æœå‹™

```bash
# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬ä¸¦è¨­å®š
cp .env.example .env

# å•Ÿå‹•å®Œæ•´å †ç–Š
docker-compose up -d
```

### 2. è¨ªå•ä»‹é¢

| æœå‹™ | URL | é è¨­å¸³è™Ÿ |
|------|-----|----------|
| ğŸ“Š **Dashboard** | http://localhost:3001 | - |
| ğŸ”Œ **API Server** | http://localhost:8080 | - |
| ğŸ“ˆ **Grafana** | http://localhost:3000 | admin / admin |

## ğŸ§ª æ•ˆèƒ½æ¸¬è©¦èˆ‡é©—è­‰

```bash
# åŸ·è¡ŒæŒ‡æ¨™å–®å…ƒæ¸¬è©¦
cd dashboard-ts && npm test

# é©—è­‰è³‡æ–™æ”¶é›†ç‹€æ…‹
./scripts/collector_status.sh
```

---

**æœ€å¾Œæ›´æ–°**: 2026-01-15  
**å°ˆæ¡ˆç‰ˆæœ¬**: v2.2.0  
**ç¶­è­·è€…**: Development Team