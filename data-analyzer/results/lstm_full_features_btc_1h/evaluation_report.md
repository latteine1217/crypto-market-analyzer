# LSTM 模型評估報告（完整特徵集）

**生成時間**: 2025-12-27 15:29:50

## 1. 模型配置

- **特徵數量**: 118 個
- **序列長度**: 30
- **隱藏層大小**: 64
- **LSTM 層數**: 2
- **Dropout**: 0.2
- **批次大小**: 32
- **最大訓練輪數**: 100
- **初始學習率**: 0.001
- **設備**: cpu

## 2. 數據分割

- **訓練集**: 70%
- **驗證集**: 15%
- **測試集**: 15%

## 3. 測試集性能

| 指標 | 數值 | 說明 |
|------|------|------|
| RMSE | 693.17 | 均方根誤差 |
| MAE | 515.70 | 平均絕對誤差 |
| R² | 0.987147 | 決定係數 |
| MAPE | 0.558% | 平均絕對百分比誤差 |
| 方向準確率 | 46.25% | 漲跌方向預測準確率 |

## 4. 模型特點

### ✅ 改進點

1. **完整特徵集**:
   - 添加了 lag 特徵（1, 2, 3, 5, 10, 20 期）
   - 添加了 rolling 特徵（5, 10, 20, 50 期的 mean, std, min, max）
   - 添加了 return 特徵（1, 5, 10, 20 期報酬率）
   - 保留所有技術指標、價格和成交量特徵

2. **模型架構改進**:
   - 增加隱藏層大小 (32 → 64)
   - 增加 LSTM 層數 (1 → 2)
   - 添加批次歸一化
   - 添加額外的全連接層
   - 使用 dropout 防止過擬合

3. **訓練策略**:
   - 學習率自適應調整 (ReduceLROnPlateau)
   - 梯度裁剪防止梯度爆炸
   - Early stopping 防止過擬合

## 5. 結論

### ⚠️ 模型需要改進

模型在測試集上表現一般，需要進一步優化。

**與簡化版 LSTM 比較**: 查看 model_comparison 目錄中的對比報告。
