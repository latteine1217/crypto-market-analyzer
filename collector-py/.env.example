# Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=crypto
POSTGRES_PASSWORD=crypto_pass
POSTGRES_DB=crypto_db

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ===== 區塊鏈 API 配置 =====
# Etherscan API (Ethereum 主網)
# 獲取方式：https://etherscan.io/myapikey
ETHERSCAN_API_KEY=

# TronScan API (Tron 主網) - 可選
# 獲取方式：https://tronscan.org/#/login
TRONSCAN_API_KEY=

# Blockchain.com API (Bitcoin)
# 公開 API 不需要 key，僅用於 Bitcoin 交易追蹤
# 進階功能（需要 API key）：https://www.blockchain.com/api
BLOCKCHAIN_API_KEY=

# Telegram Notification
TG_BOT_TOKEN=
TG_CHAT_ID=

# Collector Settings
COLLECTOR_INTERVAL_SECONDS=60
DEFAULT_TIMEFRAME=1m
DEFAULT_LIMIT=1000

# Logging
LOG_LEVEL=INFO

# ============================================
# ETF (Farside) Settings
# ============================================
# 注意：Farside 頁面可能有反爬機制；若你有合法存取權限且需要更高成功率，
# 可注入瀏覽器取得的 cookies / UA 讓 curl_cffi 重用身份。

# 啟用 Hybrid Cookie 模式（curl_cffi 優先使用 cookies/UA；遇到 challenge 可嘗試 Playwright 刷新）
ETF_HYBRID_COOKIE=1

# Identity Cache（容器內對應 /app/logs，docker-compose 會掛載到 collector-py/logs）
ETF_COOKIE_CACHE_PATH=logs/etf_cookie_cache.json
ETF_COOKIE_CACHE_TTL_SEC=43200

# 手動注入身份（推薦：最穩定）
ETF_USER_AGENT=
ETF_CF_CLEARANCE=
# 直接放 cookie dict（JSON），例如：{"cf_clearance":"...","__cf_bm":"..."}
ETF_COOKIES_JSON=

# curl_cffi TLS/JA3 impersonate（可依環境調整）
ETF_CURL_IMPERSONATE=chrome110

# Playwright 行為（容器環境通常需 headless；若在有 GUI 的環境可改為 0）
ETF_PLAYWRIGHT_HEADLESS=1
ETF_ENABLE_PLAYWRIGHT=1
ETF_PLAYWRIGHT_EXECUTABLE=/usr/bin/chromium
ETF_BLOCK_STYLESHEET=0

# ETF 任務 lookback（天）
ETF_COLLECTION_LOOKBACK_DAYS=7

# SoSoValue OpenAPI v2 (recommended ETF source)
ETF_SOURCE=sosovalue
SOSOVALUE_API_KEY=
# 若遇到 SSL 驗證問題，可指定 CA bundle（容器預設為 /etc/ssl/certs/ca-certificates.crt）
SOSOVALUE_CA_FILE=
# 免費版配額保護：盤後窗口失敗時每日最多嘗試次數
ETF_SOSO_MAX_ATTEMPTS_PER_DAY=3
# 自動一次性回填：當 DB 中 BTC ETF(TOTAL) 歷史天數 < MIN_DAYS 時，當次寫入完整 ~300 天
ETF_SOSO_BACKFILL_MIN_DAYS=60
ETF_SOSO_BACKFILL_DAYS=300

# ============================================
# BitInfoCharts Settings (BTC Rich List)
# ============================================
BITINFO_RICH_LIST_URL=https://bitinfocharts.com/top-100-richest-bitcoin-addresses.html

# curl_cffi impersonate
BITINFO_CURL_IMPERSONATE=chrome110

# 可選：若遇到反爬，可啟用 hybrid 身份（多數情況不需要）
BITINFO_HYBRID_COOKIE=0
BITINFO_COOKIE_CACHE_PATH=logs/bitinfo_cookie_cache.json
BITINFO_COOKIE_CACHE_TTL_SEC=86400
BITINFO_USER_AGENT=
BITINFO_COOKIES_JSON=

# 可選：Playwright fallback（預設關閉）
BITINFO_ENABLE_PLAYWRIGHT=0
BITINFO_PLAYWRIGHT_HEADLESS=1
BITINFO_PLAYWRIGHT_EXECUTABLE=/usr/bin/chromium
BITINFO_BLOCK_STYLESHEET=0
