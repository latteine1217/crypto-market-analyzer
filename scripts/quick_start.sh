#!/bin/bash
# BTC åœ°å€åˆ†å±¤è¿½è¹¤ - å¿«é€Ÿå•Ÿå‹•æŒ‡å—

cat << 'EOF'
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘     ğŸ‰ BTC åœ°å€åˆ†å±¤è¿½è¹¤ç³»çµ± - å¿«é€Ÿå•Ÿå‹•æŒ‡å— ğŸ‰                  â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ç³»çµ±å·²å®Œå…¨éƒ¨ç½²ä¸¦æ¸¬è©¦é€šéï¼

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š ç«‹å³æŸ¥çœ‹ Dashboard
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. æ‰“é–‹ç€è¦½å™¨è¨ªå•: http://localhost:3000/d/btc-address-tiers
2. ç™»å…¥ Grafana: admin / admin
3. æŸ¥çœ‹ 9 å€‹è¦–è¦ºåŒ–é¢æ¿

æˆ–ä½¿ç”¨çµ‚ç«¯æŸ¥çœ‹:
$ python3 scripts/show_address_tiers.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš™ï¸ ç³»çµ±ç‹€æ…‹æª¢æŸ¥
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EOF

echo "ğŸ“ æª¢æŸ¥æœå‹™ç‹€æ…‹..."
echo ""

# æª¢æŸ¥ TimescaleDB
if docker ps | grep -q crypto_timescaledb; then
    echo "  âœ… TimescaleDB: é‹è¡Œä¸­"
else
    echo "  âŒ TimescaleDB: æœªé‹è¡Œ"
fi

# æª¢æŸ¥ Grafana
if docker ps | grep -q crypto_grafana; then
    echo "  âœ… Grafana: é‹è¡Œä¸­"
else
    echo "  âŒ Grafana: æœªé‹è¡Œ"
fi

# æª¢æŸ¥ Crontab
if crontab -l 2>/dev/null | grep -q "collect_address_tiers.py"; then
    echo "  âœ… Crontab: å·²è¨­å®šï¼ˆæ¯å¤© 00:05 åŸ·è¡Œï¼‰"
else
    echo "  âš ï¸  Crontab: æœªè¨­å®š"
    echo "     åŸ·è¡Œ: bash scripts/setup_address_tier_cron.sh"
fi

# æª¢æŸ¥è³‡æ–™åº«è³‡æ–™
echo ""
echo "ğŸ“ æª¢æŸ¥è³‡æ–™åº«è³‡æ–™..."
DATA_COUNT=$(docker exec crypto_timescaledb psql -U crypto -d crypto_db -t -c "SELECT COUNT(*) FROM address_tier_snapshots WHERE blockchain_id = 1;" 2>/dev/null | xargs)
if [ "$DATA_COUNT" -gt 0 ]; then
    echo "  âœ… è³‡æ–™åº«: $DATA_COUNT ç­†è¨˜éŒ„"
    LATEST_DATE=$(docker exec crypto_timescaledb psql -U crypto -d crypto_db -t -c "SELECT MAX(snapshot_date)::date FROM address_tier_snapshots WHERE blockchain_id = 1;" 2>/dev/null | xargs)
    echo "  âœ… æœ€æ–°è³‡æ–™: $LATEST_DATE"
else
    echo "  âš ï¸  è³‡æ–™åº«: ç„¡è³‡æ–™"
    echo "     åŸ·è¡Œ: python3 collector-py/collect_address_tiers.py"
fi

cat << 'EOF'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ å¸¸ç”¨å‘½ä»¤
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ‰‹å‹•æ”¶é›†è³‡æ–™:
$ python3 collector-py/collect_address_tiers.py

çµ‚ç«¯é¡¯ç¤º:
$ python3 scripts/show_address_tiers.py

Demo å±•ç¤º:
$ python3 scripts/demo_address_tiers.py

æŸ¥çœ‹æ—¥èªŒ:
$ tail -f logs/address_tiers/cron.log

æ¸¬è©¦ Cron:
$ bash scripts/test_address_tier_cron.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š æ–‡æª”è³‡æº
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â€¢ Dashboard ä½¿ç”¨æŒ‡å—:
  docs/GRAFANA_ADDRESS_TIER_DASHBOARD.md

â€¢ éƒ¨ç½²ç¸½çµ:
  docs/ADDRESS_TIER_DEPLOYMENT_SUMMARY.md

â€¢ å…è²»æ–¹æ¡ˆèªªæ˜:
  docs/ADDRESS_TIER_FREE_SOLUTION.md

â€¢ ç°¡åŒ–åˆ†å±¤èªªæ˜:
  docs/ADDRESS_TIER_SIMPLIFICATION.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ ä¸‹ä¸€æ­¥
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… ç³»çµ±å·²éƒ¨ç½²å®Œæˆ
2. â³ ç­‰å¾… 3-5 å¤©ç´¯ç©è³‡æ–™
3. ğŸ“Š è§€å¯Ÿ Dashboard è¶¨å‹¢è®ŠåŒ–
4. ğŸ”” è¨­å®šå‘Šè­¦è¦å‰‡ï¼ˆå·¨é¯¨/æ•£æˆ¶ç•°å‹•ï¼‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

éœ€è¦å¹«åŠ©? æŸ¥çœ‹æ–‡æª”æˆ–åŸ·è¡Œ:
$ bash scripts/quick_start.sh --help

EOF
